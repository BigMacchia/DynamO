######This bit registers a convertor for pixbufsvg files
import type ;
type.register PXBUFSVG : pixbufsvg ;

import generators ;
generators.register-standard pixbuf.pixbufify-svg : PXBUFSVG : C ;

actions pixbufify-svg
{
 echo "#include <gdk-pixbuf/gdk-pixdata.h>" > $(<)
 "gdk-pixbuf-csource" --extern --raw --name $(>:B) $(>)  >> $(<)
 echo "const size_t" $(>:B)_size "= sizeof("$(>:B)");"  >> $(<)
}