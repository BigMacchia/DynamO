#    DYNAMO:- Event driven molecular dynamics simulator 
#    http://www.marcusbannerman.co.uk/dynamo
#    Copyright (C) 2009  Marcus N Campbell Bannerman <m.bannerman@gmail.com>
#
#    This program is free software: you can redistribute it and/or
#    modify it under the terms of the GNU General Public License
#    version 3 as published by the Free Software Foundation.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU General Public License for more details.
#
#    You should have received a copy of the GNU General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.

lib gslcblas ;
lib gsl
    : gslcblas
    : <name>gsl
    ;

lib rt : : <link>shared ;

exe gsltest : tests/gsltest.cpp gsl ;

alias dynamo_visualizer :
      coil//coil/<link>static
      : : : <define>DYNAMO_visualizer
      ;

alias dynamo_core : [ glob-tree *.cpp : programs coil magnet tests ]
      magnet//magnet ../boost//iostreams ../boost//filesystem
      ../boost//program_options rt 
    : <include>extcode/include 
      <variant>debug:<define>DYNAMO_DEBUG <link>static
[ check-target-builds gsltest "DynamO:GSL (RadiusGyration Plugin)" : <source>gsl <define>DYNAMO_GSL : ]
[ check-target-builds coil//coilDependencies "DynamO:Coil Visualization Enabled" : <source>dynamo_visualizer : ]
    : : <include>extcode/include 
    <variant>debug:<define>DYNAMO_DEBUG <threading>multi <link>static
    ;

alias test : ;

explicit dynamo_visualizer dynamo_core gsltest test ;
always gsltest ; 